<apex:page Controller="mmEvaluationQuestions" cache="true" deferLastCommandUntilReady="true"  showHeader="false">
 
   <style>
     
   </style>
    
    <!-- mmEvaluationQuestionnaire.vfp -->
    
    <!-- Begin Default Content REMOVE THIS -->
	<h1>Evaluation</h1>
	<p>
        This is your new Page: Evaluation Questionnaire
    </p>
    <apex:form id="eval">
    <apex:actionFunction name="getquestions" action="{!getQuestions}" 
            reRender="panelout2" id="listcnt" status="status2">
            <apex:param id="evaluationtype" name="evaluationtype" value="Referee" assignTo="{!EvaluationType}" />
    </apex:actionFunction>
    
    <apex:outputPanel id="panelout2">
        
		<apex:pageBlock title="Questions" >
           
            <apex:pageBlockSection title="{!EvaluationTypeIn}" columns="1">
                <apex:pageBlockTable value="{!questions}" var="evalq" >
                    
                    <apex:column style="{!IF(contains(evalq.Question_Number__c,'_0'),'background:rgb(153, 204, 255);', '')}"  
                                 value="{!evalq.Question_Text__c}" width="50%"/>
                    
                    
                    <apex:column style="{!IF(contains(evalq.Question_Number__c,'_0'),'background:rgb(153, 204, 255);', '')}"
                                 value="{!evalq.Question_Type__c}"/>
                    <apex:column style="{!IF(contains(evalq.Question_Number__c,'_0'),'background:rgb(153, 204, 255);', '')}" width="10%">
                        <apex:outputText rendered="{!IF(contains(evalq.Question_Number__c,'_0'),evalq.Question_Type__c, '')}" />
                    </apex:column>
                    <apex:column style="{!IF(contains(evalq.Question_Number__c,'_0'),'background:rgb(153, 204, 255);', '')}" width="40%">
                    	<apex:selectRadio id="one" value="{!EvaluationIn}" rendered="{!IF(contains(evalq.Question_Number__c,'_0'),evalq.Question_Type__c, '')}" >
				          	<apex:selectOption itemValue="{!evalq.Question_Number__c}=1" itemLabel="Meets Standard"></apex:selectOption>
	          				<apex:selectOption itemValue="{!evalq.Question_Number__c}=2" itemLabel="Needs Work"></apex:selectOption>
	          				<apex:selectOption itemValue="{!evalq.Question_Number__c}=3" itemLabel="Not Observed"></apex:selectOption>        
	      				</apex:selectRadio>
                    </apex:column>
                    
                </apex:pageBlockTable>
            </apex:pageBlockSection>
           
        </apex:pageBlock>        
        
        
     </apex:outputPanel>
    </apex:form>
    
	<script type="text/javascript">
         window.setTimeout(getquestions,2000);
     </script>
        
</apex:page>